<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="752px" preserveAspectRatio="none" style="width:717px;height:752px;background:#FFFFFF;" version="1.1" viewBox="0 0 717 752" width="717px" zoomAndPan="magnify"><defs><filter height="300%" id="f8d4xfyfaj62a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[b218a1f8144c717cd4284a81240038db]
cluster lxkns--><polygon fill="#FFFFFF" filter="url(#f8d4xfyfaj62a)" points="16,6.602,59,6.602,66,31.6699,449,31.6699,449,411.602,16,411.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="66" y1="31.6699" y2="31.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="37" x="20" y="23.5679">lxkns</text><!--MD5=[cc15d90970407766905619ec9f90e0d4]
class PIDMap--><rect codeLine="7" fill="#FEFECE" filter="url(#f8d4xfyfaj62a)" height="77.9638" id="PIDMap" style="stroke:#A80036;stroke-width:1.5;" width="350" x="32" y="44.602"/><ellipse cx="180.25" cy="60.602" fill="#9ACD32" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M179.9219,67.2739 Q179,67.2739 178.1094,67.102 Q177.2188,66.9145 176.4375,66.5395 L176.4375,64.2895 Q177.3906,64.7739 178.2656,65.0082 Q179.1563,65.227 180,65.227 Q180.875,65.227 181.4375,64.9301 Q182,64.6332 182,63.852 Q182,63.3051 181.7031,63.0082 Q181.4063,62.6957 180.8438,62.4145 Q180.2813,62.1332 179.5,61.727 Q178.7188,61.3051 178.0625,60.8207 Q177.4219,60.3207 177.0469,59.6489 Q176.6719,58.977 176.6719,58.0239 Q176.6719,56.3989 177.7656,55.602 Q178.875,54.7895 180.6563,54.7895 Q181.375,54.7895 182.3594,54.9614 Q183.3438,55.1176 184.2969,55.5707 L183.5156,57.4926 Q182.6719,57.1332 181.9844,56.9926 Q181.3125,56.8364 180.7969,56.8364 Q179.9531,56.8364 179.5625,57.1801 Q179.1875,57.5082 179.1875,58.1489 Q179.1875,58.6332 179.4219,58.9457 Q179.6719,59.2426 180.1406,59.4926 Q180.625,59.7426 181.3594,60.1176 Q182.3594,60.602 183.0625,61.0707 Q183.7656,61.5395 184.1406,62.1645 Q184.5156,62.7739 184.5156,63.7114 Q184.5156,64.8989 183.9375,65.6957 Q183.375,66.477 182.3281,66.8832 Q181.2969,67.2739 179.9219,67.2739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="45" x="200.75" y="65.258">PIDMap</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="381" y1="76.602" y2="76.602"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="219" x="38" y="92.3609">m map[NamespacedPID]NamespacedPIDs</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="381" y1="99.5839" y2="99.5839"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="338" x="38" y="115.3428">Translate(pid PIDType, from Namespace, to Namespace) PIDType</text><!--MD5=[d66c7a42ebb4e37cfff9147cc41e1faa]
class NamespacedPID--><rect codeLine="25" fill="#FEFECE" filter="url(#f8d4xfyfaj62a)" height="69.9638" id="NamespacedPID" style="stroke:#A80036;stroke-width:1.5;" width="126" x="84" y="183.602"/><ellipse cx="99" cy="199.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M98.4688,206.5239 Q96.7188,206.5239 95.5781,205.7895 Q94.4531,205.0395 93.8906,203.6957 Q93.3438,202.3364 93.3438,200.5395 Q93.3438,198.5082 94,197.0551 Q94.6563,195.602 95.9375,194.8207 Q97.2188,194.0395 99.0938,194.0395 Q99.9844,194.0395 100.6563,194.227 Q101.3281,194.3989 102.0156,194.7426 L101.2031,196.7582 Q100.5781,196.4457 100.0313,196.3207 Q99.5,196.1957 99.0156,196.1957 Q97.8438,196.1957 97.1406,196.727 Q96.4375,197.2582 96.1406,198.2114 Q95.8438,199.1645 95.8438,200.4301 Q95.8438,202.4457 96.5625,203.4145 Q97.2813,204.3676 98.875,204.3676 Q99.4688,204.3676 100.0938,204.2114 Q100.7188,204.0551 101.5469,203.6801 L101.5469,205.8989 Q100.8125,206.2114 100.0156,206.3676 Q99.2344,206.5239 98.4688,206.5239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="113" y="204.258">NamespacedPID</text><line style="stroke:#A80036;stroke-width:1.5;" x1="85" x2="209" y1="215.602" y2="215.602"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="90" y="231.3609">PIDNS Namespace</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="90" y="246.3428">PID PIDType</text><!--MD5=[f84f9641263545785783ea31cd11d85f]
class NamespacedPIDs--><rect codeLine="15" fill="#FEFECE" filter="url(#f8d4xfyfaj62a)" height="54.9819" id="NamespacedPIDs" style="stroke:#A80036;stroke-width:1.5;" width="132" x="301" y="327.602"/><ellipse cx="316" cy="343.602" fill="#F0E68C" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M314.6094,350.852 L314.6094,340.8364 L311.2656,340.8364 L311.2656,338.7114 L320.4375,338.7114 L320.4375,340.8364 L317.0781,340.8364 L317.0781,350.852 L314.6094,350.852 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="330" y="348.258">NamespacedPIDs</text><line style="stroke:#A80036;stroke-width:1.5;" x1="302" x2="432" y1="359.602" y2="359.602"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="307" y="375.3609">[]NamespacedPID</text><path d="M32,314.602 L32,395.426 A0,0 0 0 0 32,395.426 L266,395.426 A0,0 0 0 0 266,395.426 L266,359.102 L300.78,355.102 L266,351.102 L266,324.602 L256,314.602 L32,314.602 A0,0 0 0 0 32,314.602 " fill="#FBFB77" filter="url(#f8d4xfyfaj62a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M256,314.602 L256,324.602 L266,324.602 L256,314.602 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="38" y="333.499">slice of &lt;PID; namespace ID&gt; pairs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="38" y="351.205">which refer to the same process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="38" y="368.911">in its own PID namespace, as well as</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="38" y="386.617">in all parent PID namespaces.</text><path d="M245,196.102 L245,214.602 L210.38,218.602 L245,222.602 L245,241.514 A0,0 0 0 0 245,241.514 L433,241.514 A0,0 0 0 0 433,241.514 L433,206.102 L423,196.102 L245,196.102 A0,0 0 0 0 245,196.102 " fill="#FBFB77" filter="url(#f8d4xfyfaj62a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M423,196.102 L423,206.102 L433,206.102 L423,196.102 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="251" y="214.999">a PID and the namespace ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="251" y="232.705">the PID is valid in.</text><rect fill="#FEFECE" filter="url(#f8d4xfyfaj62a)" height="41.9641" style="stroke:#A80036;stroke-width:1.5;" width="65" x="334.5" y="458.602"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="341.5" y="473.4301">: PIDMap</text><line style="stroke:#A80036;stroke-width:1.5;" x1="335.5" x2="398.5" y1="478.9461" y2="478.9461"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="9" x="340.5" y="493.6361">m</text><rect fill="#FEFECE" filter="url(#f8d4xfyfaj62a)" height="41.9641" style="stroke:#A80036;stroke-width:1.5;" width="120" x="139" y="579.602"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="146" y="594.4301">: NamespacedPIDs</text><line style="stroke:#A80036;stroke-width:1.5;" x1="140" x2="258" y1="599.9461" y2="599.9461"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="101" x="145" y="614.6361">[1]: {PID: 1, PIDNS: 1}</text><rect fill="#FEFECE" filter="url(#f8d4xfyfaj62a)" height="55.5841" style="stroke:#A80036;stroke-width:1.5;" width="131" x="389.5" y="682.602"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="402" y="697.4301">: NamespacedPIDs</text><line style="stroke:#A80036;stroke-width:1.5;" x1="390.5" x2="519.5" y1="702.9461" y2="702.9461"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="119" x="395.5" y="717.6361">[0]: {PID: 4567, PIDNS: 1}</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="101" x="395.5" y="731.2561">[1]: {PID: 1, PIDNS: 2}</text><!--MD5=[b38dced7b5093de65ab9cd269eb3f33d]
link PIDMap to NamespacedPID--><!--MD5=[9af7c789aee602872c1b4b19e3f8060e]
link PIDMap to NamespacedPIDs--><!--MD5=[94fff38d9e88b7ed0c3720470ae624b7]
link NamespacedPIDs to pidmap--><!--MD5=[370ea4afa690130cb984b7a74a299dbf]
link pidmap to pid1--><!--MD5=[370ea4afa690130cb984b7a74a299dbf]
link pidmap to pid1--><path codeLine="42" d="M334.38,484.132 C302.59,489.212 254.8,501.452 225,530.602 C211.64,543.672 205.06,564.282 201.88,579.572 " fill="none" id="pidmap-pid1-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="225.9429,543.3773,235,540.4755,231.5646,535.7061,225.9429,543.3773" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="239" y="545.499">{PID: 1, PIDNS: 1}</text><!--MD5=[9c8be156f64df545475ddf4371c14ef3]
link pidmap to pid4567--><!--MD5=[9c8be156f64df545475ddf4371c14ef3]
link pidmap to pid4567--><path codeLine="49" d="M388.24,500.882 C396.08,509.402 404.41,519.832 410,530.602 C435.88,580.532 447.43,646.122 452.13,682.442 " fill="none" id="pidmap-pid4567-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="447.6597,605.6715,447.4296,596.1637,441.885,598.1148,447.6597,605.6715" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="455" y="605.999">{PID: 4567, PIDNS: 1}</text><!--MD5=[9c8be156f64df545475ddf4371c14ef3]
link pidmap to pid4567--><path codeLine="50" d="M399.76,484.442 C449.96,492.302 544.48,515.272 586,579.602 C612.24,620.252 561.94,658.182 516.28,682.452 " fill="none" id="pidmap-pid4567-2" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="601.5358,605.2642,599.4814,595.9782,594.4156,598.9592,601.5358,605.2642" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="608" y="605.999">{PID: 1, PIDNS: 2}</text><!--MD5=[a6f80f915f886396d0579a88d4d284b9]
@startuml pid-map
hide empty fields
hide empty methods
!define L <size:12><&link-intact></size><i>

package "lxkns" {

class "PIDMap" <<(S,YellowGreen)>> {
  m map[NamespacedPID]NamespacedPIDs
  Translate(pid PIDType, from Namespace, to Namespace) PIDType
}

PIDMap -[hidden]- NamespacedPID
PIDMap -[hidden]- - NamespacedPIDs

class NamespacedPIDs <<(T,Khaki)>> {
    []NamespacedPID
}
note left {
    slice of <PID; namespace ID> pairs
    which refer to the same process
    in its own PID namespace, as well as
    in all parent PID namespaces.
}

class NamespacedPID {
  PIDNS Namespace
  PID PIDType
}
note right: a PID and the namespace ID\nthe PID is valid in.

}

object ": PIDMap" as pidmap {
  m
}
NamespacedPIDs -[hidden]- pidmap

object ": NamespacedPIDs" as pid1 {
  [1]: {PID: 1, PIDNS: 1}
}
pidmap -[hidden]- pid1
pidmap - - pid1 : "{PID: 1, PIDNS: 1} >"

object ": NamespacedPIDs" as pid4567 {
  [0]: {PID: 4567, PIDNS: 1}
  [1]: {PID: 1, PIDNS: 2}
}
pidmap -[hidden]- pid4567
pidmap - - - pid4567 : "{PID: 4567, PIDNS: 1} >"
pidmap - - - pid4567 : "{PID: 1, PIDNS: 2} >"

@enduml

@startuml pid-map
hide empty fields
hide empty methods

package "lxkns" {

class "PIDMap" <<(S,YellowGreen)>> {
  m map[NamespacedPID]NamespacedPIDs
  Translate(pid PIDType, from Namespace, to Namespace) PIDType
}

PIDMap -[hidden]- NamespacedPID
PIDMap -[hidden]- - NamespacedPIDs

class NamespacedPIDs <<(T,Khaki)>> {
    []NamespacedPID
}
note left {
    slice of <PID; namespace ID> pairs
    which refer to the same process
    in its own PID namespace, as well as
    in all parent PID namespaces.
}

class NamespacedPID {
  PIDNS Namespace
  PID PIDType
}
note right: a PID and the namespace ID\nthe PID is valid in.

}

object ": PIDMap" as pidmap {
  m
}
NamespacedPIDs -[hidden]- pidmap

object ": NamespacedPIDs" as pid1 {
  [1]: {PID: 1, PIDNS: 1}
}
pidmap -[hidden]- pid1
pidmap - - pid1 : "{PID: 1, PIDNS: 1} >"

object ": NamespacedPIDs" as pid4567 {
  [0]: {PID: 4567, PIDNS: 1}
  [1]: {PID: 1, PIDNS: 2}
}
pidmap -[hidden]- pid4567
pidmap - - - pid4567 : "{PID: 4567, PIDNS: 1} >"
pidmap - - - pid4567 : "{PID: 1, PIDNS: 2} >"

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>