<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="790px" preserveAspectRatio="none" style="width:717px;height:790px;background:#FFFFFF;" version="1.1" viewBox="0 0 717 790" width="717px" zoomAndPan="magnify"><defs/><g><!--MD5=[b218a1f8144c717cd4284a81240038db]
cluster lxkns--><g id="cluster_lxkns"><path d="M8.5,6.602 L46.5,6.602 A3.75,3.75 0 0 1 49,9.102 L56,31.6699 L485.5,31.6699 A2.5,2.5 0 0 1 488,34.1699 L488,425.102 A2.5,2.5 0 0 1 485.5,427.602 L8.5,427.602 A2.5,2.5 0 0 1 6,425.102 L6,9.102 A2.5,2.5 0 0 1 8.5,6.602 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="56" y1="31.6699" y2="31.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="37" x="10" y="23.5679">lxkns</text></g><!--MD5=[cc15d90970407766905619ec9f90e0d4]
class PIDMap--><g id="elem_PIDMap"><rect codeLine="7" fill="#F1F1F1" height="86.1358" id="PIDMap" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="450" x="22" y="44.602"/><ellipse cx="216.25" cy="60.602" fill="#9ACD32" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M215.9219,67.2739 Q215,67.2739 214.1094,67.102 Q213.2188,66.9145 212.4375,66.5395 L212.4375,64.2895 Q213.3906,64.7739 214.2656,65.0082 Q215.1563,65.227 216,65.227 Q216.875,65.227 217.4375,64.9301 Q218,64.6332 218,63.852 Q218,63.3051 217.7031,63.0082 Q217.4063,62.6957 216.8438,62.4145 Q216.2813,62.1332 215.5,61.727 Q214.7188,61.3051 214.0625,60.8207 Q213.4219,60.3207 213.0469,59.6489 Q212.6719,58.977 212.6719,58.0239 Q212.6719,56.3989 213.7656,55.602 Q214.875,54.7895 216.6563,54.7895 Q217.375,54.7895 218.3594,54.9614 Q219.3438,55.1176 220.2969,55.5707 L219.5156,57.4926 Q218.6719,57.1332 217.9844,56.9926 Q217.3125,56.8364 216.7969,56.8364 Q215.9531,56.8364 215.5625,57.1801 Q215.1875,57.5082 215.1875,58.1489 Q215.1875,58.6332 215.4219,58.9457 Q215.6719,59.2426 216.1406,59.4926 Q216.625,59.7426 217.3594,60.1176 Q218.3594,60.602 219.0625,61.0707 Q219.7656,61.5395 220.1406,62.1645 Q220.5156,62.7739 220.5156,63.7114 Q220.5156,64.8989 219.9375,65.6957 Q219.375,66.477 218.3281,66.8832 Q217.2969,67.2739 215.9219,67.2739 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="236.75" y="66.034">PIDMap</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="471" y1="76.602" y2="76.602"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286" x="28" y="95.5679">m map[NamespacedPID]NamespacedPIDs</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="471" y1="103.6699" y2="103.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="438" x="28" y="122.6358">Translate(pid PIDType, from Namespace, to Namespace) PIDType</text></g><!--MD5=[d66c7a42ebb4e37cfff9147cc41e1faa]
class NamespacedPID--><g id="elem_NamespacedPID"><rect codeLine="25" fill="#F1F1F1" height="78.1358" id="NamespacedPID" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="105.5" y="191.602"/><ellipse cx="120.5" cy="207.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M119.9688,214.5239 Q118.2188,214.5239 117.0781,213.7895 Q115.9531,213.0395 115.3906,211.6957 Q114.8438,210.3364 114.8438,208.5395 Q114.8438,206.5082 115.5,205.0551 Q116.1563,203.602 117.4375,202.8207 Q118.7188,202.0395 120.5938,202.0395 Q121.4844,202.0395 122.1563,202.227 Q122.8281,202.3989 123.5156,202.7426 L122.7031,204.7582 Q122.0781,204.4457 121.5313,204.3207 Q121,204.1957 120.5156,204.1957 Q119.3438,204.1957 118.6406,204.727 Q117.9375,205.2582 117.6406,206.2114 Q117.3438,207.1645 117.3438,208.4301 Q117.3438,210.4457 118.0625,211.4145 Q118.7813,212.3676 120.375,212.3676 Q120.9688,212.3676 121.5938,212.2114 Q122.2188,212.0551 123.0469,211.6801 L123.0469,213.8989 Q122.3125,214.2114 121.5156,214.3676 Q120.7344,214.5239 119.9688,214.5239 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="134.5" y="213.034">NamespacedPID</text><line style="stroke:#181818;stroke-width:0.5;" x1="106.5" x2="247.5" y1="223.602" y2="223.602"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="111.5" y="242.5679">PIDNS Namespace</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="111.5" y="261.6358">PID PIDType</text></g><!--MD5=[f84f9641263545785783ea31cd11d85f]
class NamespacedPIDs--><g id="elem_NamespacedPIDs"><rect codeLine="15" fill="#F1F1F1" height="59.0679" id="NamespacedPIDs" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="291" y="341.602"/><ellipse cx="306" cy="357.602" fill="#F0E68C" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M304.6094,364.852 L304.6094,354.8364 L301.2656,354.8364 L301.2656,352.7114 L310.4375,352.7114 L310.4375,354.8364 L307.0781,354.8364 L307.0781,364.852 L304.6094,364.852 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="320" y="363.034">NamespacedPIDs</text><line style="stroke:#181818;stroke-width:0.5;" x1="292" x2="440" y1="373.602" y2="373.602"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="297" y="392.5679">[]NamespacedPID</text></g><g id="elem_GMN8"><path d="M22,330.602 L22,411.426 A0,0 0 0 0 22,411.426 L256,411.426 A0,0 0 0 0 256,411.426 L256,375.102 L290.84,371.102 L256,367.102 L256,340.602 L246,330.602 L22,330.602 A0,0 0 0 0 22,330.602 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M246,330.602 L246,340.602 L256,340.602 L246,330.602 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="28" y="349.499">slice of &lt;PID; namespace ID&gt; pairs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="28" y="367.205">which refer to the same process</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="28" y="384.911">in its own PID namespace, as well as</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="28" y="402.617">in all parent PID namespaces.</text></g><g id="elem_GMN11"><path d="M284,208.102 L284,226.602 L248.84,230.602 L284,234.602 L284,253.514 A0,0 0 0 0 284,253.514 L472,253.514 A0,0 0 0 0 472,253.514 L472,218.102 L462,208.102 L284,208.102 A0,0 0 0 0 284,208.102 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M462,208.102 L462,218.102 L472,218.102 L462,208.102 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="290" y="226.999">a PID and the namespace ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="290" y="244.705">the PID is valid in.</text></g><g id="elem_pidmap"><rect fill="#F1F1F1" height="50.1358" style="stroke:#181818;stroke-width:0.5;" width="75" x="328.5" y="474.602"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="335.5" y="491.5679">: PIDMap</text><line style="stroke:#181818;stroke-width:0.5;" x1="329.5" x2="402.5" y1="497.6699" y2="497.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="334.5" y="516.6358">m</text></g><g id="elem_pid1"><rect fill="#F1F1F1" height="50.1358" style="stroke:#181818;stroke-width:0.5;" width="153" x="121.5" y="603.602"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="135" y="620.5679">: NamespacedPIDs</text><line style="stroke:#181818;stroke-width:0.5;" x1="122.5" x2="273.5" y1="626.6699" y2="626.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="127.5" y="645.6358">[1]: {PID: 1, PIDNS: 1}</text></g><g id="elem_pid4567"><rect fill="#F1F1F1" height="69.2038" style="stroke:#181818;stroke-width:0.5;" width="177" x="365.5" y="714.602"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="391" y="731.5679">: NamespacedPIDs</text><line style="stroke:#181818;stroke-width:0.5;" x1="366.5" x2="541.5" y1="737.6699" y2="737.6699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="371.5" y="756.6358">[0]: {PID: 4567, PIDNS: 1}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="371.5" y="775.7038">[1]: {PID: 1, PIDNS: 2}</text></g><!--MD5=[b38dced7b5093de65ab9cd269eb3f33d]
link PIDMap to NamespacedPID--><!--MD5=[9af7c789aee602872c1b4b19e3f8060e]
link PIDMap to NamespacedPIDs--><!--MD5=[94fff38d9e88b7ed0c3720470ae624b7]
link NamespacedPIDs to pidmap--><!--MD5=[370ea4afa690130cb984b7a74a299dbf]
link pidmap to pid1--><!--MD5=[370ea4afa690130cb984b7a74a299dbf]
link pidmap to pid1--><g id="link_pidmap_pid1"><path codeLine="42" d="M328.31,505.972 C296.55,512.382 251.95,526.052 224,554.602 C211.11,567.772 204.57,587.752 201.27,603.482 " fill="none" id="pidmap-pid1-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#000000" points="225.0337,567.4994,233.9983,564.3234,230.4194,559.6607,225.0337,567.4994" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="238" y="569.499">{PID: 1, PIDNS: 1}</text></g><!--MD5=[9c8be156f64df545475ddf4371c14ef3]
link pidmap to pid4567--><!--MD5=[9c8be156f64df545475ddf4371c14ef3]
link pidmap to pid4567--><g id="link_pidmap_pid4567"><path codeLine="49" d="M389.08,524.842 C396.39,533.642 403.89,544.032 409,554.602 C434.38,607.072 445.86,674.592 450.73,714.432 " fill="none" id="pidmap-pid4567-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#000000" points="447.5462,633.7099,447.544,624.1994,441.9542,626.017,447.5462,633.7099" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="455" y="633.999">{PID: 4567, PIDNS: 1}</text></g><!--MD5=[9c8be156f64df545475ddf4371c14ef3]
link pidmap to pid4567--><g id="link_pidmap_pid4567"><path codeLine="50" d="M403.61,505.822 C455.09,515.202 545.71,540.262 586,603.602 C612.71,645.602 565.62,686.852 520.45,714.462 " fill="none" id="pidmap-pid4567-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#000000" points="601.443,633.3175,599.5878,623.9897,594.4593,626.8616,601.443,633.3175" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="608" y="633.999">{PID: 1, PIDNS: 2}</text></g><!--MD5=[d0477fb6132c4f3e25b9cf755a5ef8e9]
@startuml pid-map
hide empty fields
hide empty methods
!define L <size:12><&link-intact></size><i>

package "lxkns" {

class "PIDMap" <<(S,YellowGreen)>> {
  m map[NamespacedPID]NamespacedPIDs
  Translate(pid PIDType, from Namespace, to Namespace) PIDType
}

PIDMap -[hidden]- NamespacedPID
PIDMap -[hidden]- - NamespacedPIDs

class NamespacedPIDs <<(T,Khaki)>> {
    []NamespacedPID
}
note left {
    slice of <PID; namespace ID> pairs
    which refer to the same process
    in its own PID namespace, as well as
    in all parent PID namespaces.
}

class NamespacedPID {
  PIDNS Namespace
  PID PIDType
}
note right: a PID and the namespace ID\nthe PID is valid in.

}

object ": PIDMap" as pidmap {
  m
}
NamespacedPIDs -[hidden]- pidmap

object ": NamespacedPIDs" as pid1 {
  [1]: {PID: 1, PIDNS: 1}
}
pidmap -[hidden]- pid1
pidmap - - pid1 : "{PID: 1, PIDNS: 1} >"

object ": NamespacedPIDs" as pid4567 {
  [0]: {PID: 4567, PIDNS: 1}
  [1]: {PID: 1, PIDNS: 2}
}
pidmap -[hidden]- pid4567
pidmap - - - pid4567 : "{PID: 4567, PIDNS: 1} >"
pidmap - - - pid4567 : "{PID: 1, PIDNS: 2} >"

@enduml

@startuml pid-map
hide empty fields
hide empty methods

package "lxkns" {

class "PIDMap" <<(S,YellowGreen)>> {
  m map[NamespacedPID]NamespacedPIDs
  Translate(pid PIDType, from Namespace, to Namespace) PIDType
}

PIDMap -[hidden]- NamespacedPID
PIDMap -[hidden]- - NamespacedPIDs

class NamespacedPIDs <<(T,Khaki)>> {
    []NamespacedPID
}
note left {
    slice of <PID; namespace ID> pairs
    which refer to the same process
    in its own PID namespace, as well as
    in all parent PID namespaces.
}

class NamespacedPID {
  PIDNS Namespace
  PID PIDType
}
note right: a PID and the namespace ID\nthe PID is valid in.

}

object ": PIDMap" as pidmap {
  m
}
NamespacedPIDs -[hidden]- pidmap

object ": NamespacedPIDs" as pid1 {
  [1]: {PID: 1, PIDNS: 1}
}
pidmap -[hidden]- pid1
pidmap - - pid1 : "{PID: 1, PIDNS: 1} >"

object ": NamespacedPIDs" as pid4567 {
  [0]: {PID: 4567, PIDNS: 1}
  [1]: {PID: 1, PIDNS: 2}
}
pidmap -[hidden]- pid4567
pidmap - - - pid4567 : "{PID: 4567, PIDNS: 1} >"
pidmap - - - pid4567 : "{PID: 1, PIDNS: 2} >"

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>